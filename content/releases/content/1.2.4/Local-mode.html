<p>Local mode simulates a Storm cluster in process and is useful for developing and testing topologies. Running topologies in local mode is similar to running topologies <a href="Running-topologies-on-a-production-cluster.html">on a cluster</a>.</p>

<p>To create an in-process cluster, simply use the <code class="language-plaintext highlighter-rouge">LocalCluster</code> class. For example:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">org.apache.storm.LocalCluster</span><span class="o">;</span>

<span class="nc">LocalCluster</span> <span class="n">cluster</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">LocalCluster</span><span class="o">();</span>
</code></pre></div></div>

<p>You can then submit topologies using the <code class="language-plaintext highlighter-rouge">submitTopology</code> method on the <code class="language-plaintext highlighter-rouge">LocalCluster</code> object. Just like the corresponding method on <a href="javadocs/org/apache/storm/StormSubmitter.html">StormSubmitter</a>, <code class="language-plaintext highlighter-rouge">submitTopology</code> takes a name, a topology configuration, and the topology object. You can then kill a topology using the <code class="language-plaintext highlighter-rouge">killTopology</code> method which takes the topology name as an argument.</p>

<p>To shutdown a local cluster, simple call:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cluster</span><span class="o">.</span><span class="na">shutdown</span><span class="o">();</span>
</code></pre></div></div>

<h3 id="common-configurations-for-local-mode">Common configurations for local mode</h3>

<p>You can see a full list of configurations <a href="javadocs/org/apache/storm/Config.html">here</a>.</p>

<ol>
  <li><strong>Config.TOPOLOGY_MAX_TASK_PARALLELISM</strong>: This config puts a ceiling on the number of threads spawned for a single component. Oftentimes production topologies have a lot of parallelism (hundreds of threads) which places unreasonable load when trying to test the topology in local mode. This config lets you easy control that parallelism.</li>
  <li><strong>Config.TOPOLOGY_DEBUG</strong>: When this is set to true, Storm will log a message every time a tuple is emitted from any spout or bolt. This is extremely useful for debugging.</li>
</ol>
